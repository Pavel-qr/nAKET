#:kivy 2.1.0

<TaskLabel@Label>:
    canvas.before:
        Color:
            rgba: 1, 0, 0, 1
        Line:
            width: 1
            rectangle: self.x, self.y, self.width, self.height

    size_hint_y: None
    height: self.texture_size[1]  # the size needed to fit the text
    text_size: self.width, None
    halign: 'center'
    valign: 'middle'


<AbstractListItem>:
    canvas.before:
        Color:
            rgba: 0, 0, 0, 1
        Rectangle:
            pos: self.pos
            size: self.size
        Color:
            rgba: .1, .1, .1, 1
        Line:
            width: 2.4
            rectangle: self.x, self.y, self.width, self.height

    orientation: 'vertical'
    spacing: 10
    size_hint_y: None


<WTasks>:
    refreshing: False

    canvas.before:
        Color:
            rgba: .5, .7, 0, 1
        Rectangle:
            pos: self.pos
            size: self.size

    ScrollView:
        id: tasks_scroll
        do_scroll_x: False
        do_scroll_y: True
        on_scroll_y: self.parent.check_update_scroll(self, tasks)

        BoxLayout:
            orientation: 'vertical'
            spacing: 10
            size_hint_y: None
            height: self.minimum_height
            id: tasks

<WTask>:
    size_hint_y: None

    TaskLabel:
        id: teacher
        text: 'Teacher' * 15    # for long text tests
    TaskLabel:
        id: type
        text: 'Task type'
    TaskLabel:
        id: name
        text: 'Task name'


<WSchedule>:
    refreshing: False

    canvas.before:
        Color:
            rgba: .5, .7, 0, 1
        Rectangle:
            pos: self.pos
            size: self.size

    ScrollView:
        id: schedule_scroll
        do_scroll_x: False
        do_scroll_y: True
        on_scroll_y: self.parent.check_update_scroll(self, schedule)

        BoxLayout:
            orientation: 'vertical'
            spacing: 10
            size_hint_y: None
            height: self.minimum_height
            id: schedule

<WLesson>:
    Label:
        id: time
        text: 'time'
    Label:
        id: name
        text: 'name'

<Naket>:
    swipe_on_scroll: False
    items_spacing: 0

    WTasks:
        id: tasks
    WSchedule:
        id: schedule
